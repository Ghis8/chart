{"ast":null,"code":"import*as d3 from'd3';import React,{useRef,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";function BarChart(_ref){var width=_ref.width,height=_ref.height,data=_ref.data;var ref=useRef();useEffect(function(){var svg=d3.select(ref.current).attr(\"width\",width).attr(\"height\",height).style(\"border\",\"1px solid black\").style(\"background-color\",\"white\").style(\"border-radius\",\"5px\");},[]);useEffect(function(){draw();},[data]);var draw=function draw(){var svg=d3.select(ref.current);var selection=svg.selectAll(\"rect\").data(data);var yScale=d3.scaleLinear().domain([0,d3.max(data)]).range([0,height-100]);selection.transition().duration(300).attr(\"height\",function(d){return yScale(d);}).attr(\"y\",function(d){return height-yScale(d);});selection.enter().append(\"rect\").attr(\"x\",function(d,i){return i*45;}).attr(\"y\",function(d){return height;}).attr(\"width\",40).attr(\"height\",0).attr(\"fill\",\"blue\").transition().duration(300).attr(\"height\",function(d){return yScale(d);}).attr(\"y\",function(d){return height-yScale(d);});selection.exit().transition().duration(300).attr(\"y\",function(d){return height;}).attr(\"height\",0).remove();};return/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(\"svg\",{ref:ref})});}export default BarChart;","map":{"version":3,"names":["d3","React","useRef","useEffect","BarChart","width","height","data","ref","svg","select","current","attr","style","draw","selection","selectAll","yScale","scaleLinear","domain","max","range","transition","duration","d","enter","append","i","exit","remove"],"sources":["/home/c1ph3r/Documents/P/chart/src/components/chart/BarChart.js"],"sourcesContent":["import * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\n\nfunction BarChart({ width, height, data }){\n    const ref = useRef();\n\n    useEffect(() => {\n        const svg = d3.select(ref.current)\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .style(\"border\", \"1px solid black\")\n            .style(\"background-color\",\"white\")\n            .style(\"border-radius\",\"5px\")\n    },[]);\n\n    useEffect(() => {\n        draw();\n    }, [data]);\n\n    const draw = () => {\n        \n        const svg = d3.select(ref.current);\n        var selection = svg.selectAll(\"rect\").data(data);\n        var yScale = d3.scaleLinear()\n                            .domain([0, d3.max(data)])\n                            .range([0, height-100]);\n        \n        selection\n            .transition().duration(300)\n                .attr(\"height\", (d) => yScale(d))\n                .attr(\"y\", (d) => height - yScale(d))\n\n        selection\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", (d, i) => i * 45)\n            .attr(\"y\", (d) => height)\n            .attr(\"width\", 40)\n            .attr(\"height\", 0)\n            .attr(\"fill\", \"blue\")\n            .transition().duration(300)\n                .attr(\"height\", (d) => yScale(d))\n                .attr(\"y\", (d) => height - yScale(d))\n        \n        selection\n            .exit()\n            .transition().duration(300)\n                .attr(\"y\", (d) => height)\n                .attr(\"height\", 0)\n            .remove()\n    }\n\n\n    return (\n        <div className=\"chart\">\n            <svg ref={ref}>\n            </svg>\n        </div>\n        \n    )\n\n}\n\nexport default BarChart;"],"mappings":"AAAA,MAAO,GAAKA,GAAZ,KAAoB,IAApB,CACA,MAAOC,MAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,KAAyC,OAAzC,C,2CAEA,QAASC,SAAT,MAA0C,IAAtBC,MAAsB,MAAtBA,KAAsB,CAAfC,MAAe,MAAfA,MAAe,CAAPC,IAAO,MAAPA,IAAO,CACtC,GAAMC,IAAG,CAAGN,MAAM,EAAlB,CAEAC,SAAS,CAAC,UAAM,CACZ,GAAMM,IAAG,CAAGT,EAAE,CAACU,MAAH,CAAUF,GAAG,CAACG,OAAd,EACPC,IADO,CACF,OADE,CACOP,KADP,EAEPO,IAFO,CAEF,QAFE,CAEQN,MAFR,EAGPO,KAHO,CAGD,QAHC,CAGS,iBAHT,EAIPA,KAJO,CAID,kBAJC,CAIkB,OAJlB,EAKPA,KALO,CAKD,eALC,CAKe,KALf,CAAZ,CAMH,CAPQ,CAOP,EAPO,CAAT,CASAV,SAAS,CAAC,UAAM,CACZW,IAAI,GACP,CAFQ,CAEN,CAACP,IAAD,CAFM,CAAT,CAIA,GAAMO,KAAI,CAAG,QAAPA,KAAO,EAAM,CAEf,GAAML,IAAG,CAAGT,EAAE,CAACU,MAAH,CAAUF,GAAG,CAACG,OAAd,CAAZ,CACA,GAAII,UAAS,CAAGN,GAAG,CAACO,SAAJ,CAAc,MAAd,EAAsBT,IAAtB,CAA2BA,IAA3B,CAAhB,CACA,GAAIU,OAAM,CAAGjB,EAAE,CAACkB,WAAH,GACQC,MADR,CACe,CAAC,CAAD,CAAInB,EAAE,CAACoB,GAAH,CAAOb,IAAP,CAAJ,CADf,EAEQc,KAFR,CAEc,CAAC,CAAD,CAAIf,MAAM,CAAC,GAAX,CAFd,CAAb,CAIAS,SAAS,CACJO,UADL,GACkBC,QADlB,CAC2B,GAD3B,EAESX,IAFT,CAEc,QAFd,CAEwB,SAACY,CAAD,QAAOP,OAAM,CAACO,CAAD,CAAb,EAFxB,EAGSZ,IAHT,CAGc,GAHd,CAGmB,SAACY,CAAD,QAAOlB,OAAM,CAAGW,MAAM,CAACO,CAAD,CAAtB,EAHnB,EAKAT,SAAS,CACJU,KADL,GAEKC,MAFL,CAEY,MAFZ,EAGKd,IAHL,CAGU,GAHV,CAGe,SAACY,CAAD,CAAIG,CAAJ,QAAUA,EAAC,CAAG,EAAd,EAHf,EAIKf,IAJL,CAIU,GAJV,CAIe,SAACY,CAAD,QAAOlB,OAAP,EAJf,EAKKM,IALL,CAKU,OALV,CAKmB,EALnB,EAMKA,IANL,CAMU,QANV,CAMoB,CANpB,EAOKA,IAPL,CAOU,MAPV,CAOkB,MAPlB,EAQKU,UARL,GAQkBC,QARlB,CAQ2B,GAR3B,EASSX,IATT,CASc,QATd,CASwB,SAACY,CAAD,QAAOP,OAAM,CAACO,CAAD,CAAb,EATxB,EAUSZ,IAVT,CAUc,GAVd,CAUmB,SAACY,CAAD,QAAOlB,OAAM,CAAGW,MAAM,CAACO,CAAD,CAAtB,EAVnB,EAYAT,SAAS,CACJa,IADL,GAEKN,UAFL,GAEkBC,QAFlB,CAE2B,GAF3B,EAGSX,IAHT,CAGc,GAHd,CAGmB,SAACY,CAAD,QAAOlB,OAAP,EAHnB,EAISM,IAJT,CAIc,QAJd,CAIwB,CAJxB,EAKKiB,MALL,GAMH,CA/BD,CAkCA,mBACI,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,GAAG,CAAErB,GAAV,EADJ,EADJ,CAQH,CAED,cAAeJ,SAAf"},"metadata":{},"sourceType":"module"}